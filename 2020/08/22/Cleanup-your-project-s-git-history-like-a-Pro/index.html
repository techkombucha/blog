<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Tucker Roll">


    <meta name="subtitle" content="Excellent and Highly Opinionated Tech Expertise">


    <meta name="description" content="Tech Night Coffee brings you all of the latest technology and web development expertise">



<title>Cleanup your project&#39;s Git history like a Pro | Tech Night Coffee</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 5.0.2"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Tech Night Coffee</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Tech Night Coffee</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Cleanup your project&#39;s Git history like a Pro</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Tucker Roll</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">August 22, 2020&nbsp;&nbsp;21:04:17</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <p>During the 12 years I have been working in the IT industry as a software engineer, tech lead, international thinkfluencer and accredited Kubernetes systems architect, I never found anything more unnerving than an <strong>effed up Git history</strong>.</p>
<p>You know exactly, what I’m talking about: You join a new project and as you start refactoring and bringing critical, best practices to the code base, you start to learn more about how and why features have been implemented by reading your colleagues’ comments in the Git history. Problem is, their commit messages are convoluted, hard to understand and <strong>make absolutely no sense</strong> whatsoever!</p>
<p>So how do you work through this pile of useless “project documentation” and get rid of that mess moving forward? In this article I will share my battle-tested expertise on how you can <strong>clean up any project’s Git history</strong>, so you can really focus on what you have been brought into the project for: moving fast and breaking things.</p>
<h2 id="The-Problem"><a href="#The-Problem" class="headerlink" title="The Problem"></a>The Problem</h2><p>But first, let’s look at the actual problem at hand. What did your colleagues do wrong to turn your project’s Git history into a living nightmare? There are two main reasons for this awful situation.</p>
<h3 id="Your-colleagues-commit-way-too-often"><a href="#Your-colleagues-commit-way-too-often" class="headerlink" title="Your colleagues commit way too often"></a>Your colleagues commit way too often</h3><p>The <strong>more commit messages</strong> your team mates add to the project history, the <strong>worse the messiness</strong> gets.</p>
<p>It’s very easy to see that after months or years working on the code base the Git history starts to blow up. And especially in regards to ancient commits, it’s really hard to even understand what Mike, who left the company 3 years ago, really did in that commit titled “update(application): secure against CORS violations”. This piece of information is useless at best, and just straight up distracting at worst.</p>
<p>Some say that you should follow certain rules to make a commit message descriptive, so it still adds value to the history, including arbitrary guidelines such as writing a 50-73 character summary line and a more verbose message body. But what happens if everyone on your team started doing that on a daily basis? You don’t want to have all that backlog of messages piled up in your history, do you?</p>
<p>Yeah. Don’t do that.</p>
<h3 id="They-are-scared-of-changing-public-history"><a href="#They-are-scared-of-changing-public-history" class="headerlink" title="They are scared of changing public history"></a>They are scared of changing public history</h3><p>Many devs are too afraid of cleaning up the mess they make in their Git history and <strong>refuse to change public history</strong>. This becomes a huge issue, because, as you can see in your projects over time, Git history will get messy and if you don’t do some spring cleaning on a regular basis, that messiness will get you into serious trouble.</p>
<p>It’s critical to let go of the idea, that already published commits are etched in diamond for all eternity. They are not. There is a reason why Git allows you to rewrite public history.</p>
<h2 id="The-Best-Solution"><a href="#The-Best-Solution" class="headerlink" title="The Best Solution"></a>The Best Solution</h2><p>I could write another, lengthy article on a plethora of strategies you can employ to clean up your project’s Git history and make you productive again. But this strategy I want to share with you today is the most efficient of all of them.</p>
<p>It’s quick, easy and lets you move on with your life as fast as possible. It also has the best outcome for your team and all the other developers that will follow your footsteps on working on the code base long after you have left the company. Embrace this practice anytime you start a new project, to set yourself up for success and never worry about history again.</p>
<p>In the project directory, run</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --soft HEAD~&lt;NUM&gt;</span><br></pre></td></tr></table></figure>

<p>where <NUM> is the order of the first commit in your project counted backwards from the current one. In a project with 180 commits, <NUM> would be 179.</p>
<p>Now that you have the changes ready, you can clean up the entire project’s history with these two commands:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&#x27;Legacy code base&#x27;</span></span><br><span class="line">git push origin main -f</span><br></pre></td></tr></table></figure>

<p>where <code>main</code> is the name of your main project branch.</p>
<p>Now that you have rebase-squashed the messiness out of your Git history, give yourself a pat on the back and collect your praise from the #dev channel on your company Slack. You and your colleagues will thank you for it!</p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Tucker Roll</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="http://technightcoffee.github.io/2020/08/22/Cleanup-your-project-s-git-history-like-a-Pro/">http://technightcoffee.github.io/2020/08/22/Cleanup-your-project-s-git-history-like-a-Pro/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>Do you believe in <strong>DESTINY</strong>?</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/git-git-history-project-legacy-code-software-ai-machine-learning-cutting-edge-professional-tech-leadership-thinkfluencer-asserting-dominance-in-the-workplace/"># git, git history, project, legacy, code, software, ai, machine learning, cutting-edge, professional, tech leadership, thinkfluencer, asserting dominance in the workplace</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Tucker Roll | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
